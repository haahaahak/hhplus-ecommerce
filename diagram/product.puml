@startuml

actor 사용자
participant "ProductController"
participant "ProductService"
participant "ProductRepository"

== 상품 목록 조회 ==
group 일반 상품 목록 조회
    사용자 -> ProductController : GET /products
    ProductController -> ProductService : 상품 목록 조회 요청
    ProductService -> ProductRepository : 상품 정보 조회
    ProductRepository -> ProductService : 상품 목록 반환 (ID, 이름, 가격, 잔여수량)
    ProductService -> ProductController : 상품 목록 반환 (ID, 이름, 가격, 잔여수량)
    ProductController -> 사용자 : 상품 목록 응답 (ID, 이름, 가격, 잔여수량)
end group

== TOP 3 상품 목록 조회 ==
group 상위 판매 상품 조회 (order_count 기준)
    사용자 -> ProductController : GET /products/top-selling
    ProductController -> ProductService : 상위 판매 상품 조회 요청
    ProductService -> ProductRepository : order_count 기준 상위 5개 상품 조회
    ProductRepository -> ProductService : 상위 5개 상품 정보 반환 (ID, 이름, 가격, 잔여수량, order_count)
    ProductService -> ProductController : 상위 5개 상품 목록 반환
    ProductController -> 사용자 : 상위 5개 상품 정보 응답
end group

@enduml
